---
/**
 * Main Portfolio Page
 * Integrates all React components to create the complete portfolio site
 * Uses Astro for static generation with React islands for interactivity
 */

import '../styles/global.css';

// Import React components
import Navigation from '../components/Navigation';
import Hero from '../components/Hero';
import About from '../components/About';
import Skills from '../components/Skills';
import Projects from '../components/Projects';
import Homelab from '../components/Homelab';
import Blog from '../components/Blog';
import Philosophy from '../components/Philosophy';
import Contact from '../components/Contact';
import Footer from '../components/Footer';

// Import data
import {
  navLinks,
  technologies,
  expertise,
  projects,
  homelabServices,
  articles,
  principles,
  contactLinks,
  interests,
} from '../data/portfolio';

// Page metadata
const pageTitle = 'Hasintha Pasindu Madhuwantha — Infrastructure & Automation Engineer Portfolio';
const pageDescription =
  'Hasintha Pasindu Madhuwantha - Infrastructure & Automation Engineer specializing in CI/CD pipelines, Kubernetes, Docker, AWS cloud infrastructure, system monitoring, and DevOps practices. Building reliable, scalable infrastructure through automation.';
const canonicalURL = 'https://hasinthapasindu.me';
const siteImage = 'https://hasinthapasindu.me/images/hp-profile.jpg';
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="generator" content={Astro.generator} />
    
    <!-- Primary Meta Tags -->
    <title>{pageTitle}</title>
    <meta name="title" content={pageTitle} />
    <meta name="description" content={pageDescription} />
    <meta name="keywords" content="Hasintha Pasindu Madhuwantha, Infrastructure Automation, CI/CD Pipelines, System Monitoring, Kubernetes, Docker, AWS, Cloud Infrastructure, DevOps, Production Support, Site Reliability Engineering, GitOps, Terraform, Ansible, Prometheus, Grafana" />
    <meta name="author" content="Hasintha Pasindu Madhuwantha" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href={canonicalURL} />
    
    <!-- Language & Geographic Targeting -->
    <meta name="language" content="English" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content={canonicalURL} />
    <meta property="og:title" content={pageTitle} />
    <meta property="og:description" content={pageDescription} />
    <meta property="og:image" content={siteImage} />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="Hasintha Pasindu Madhuwantha - Infrastructure & Automation Engineer" />
    <meta property="og:site_name" content="Hasintha Pasindu Madhuwantha Portfolio" />
    <meta property="og:locale" content="en_US" />
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content={canonicalURL} />
    <meta name="twitter:title" content={pageTitle} />
    <meta name="twitter:description" content={pageDescription} />
    <meta name="twitter:image" content={siteImage} />
    <meta name="twitter:image:alt" content="Hasintha Pasindu Madhuwantha - Infrastructure & Automation Engineer" />
    <meta name="twitter:creator" content="@hasinthapasindu" />
    
    <!-- Additional SEO Meta Tags -->
    <meta name="application-name" content="Hasintha Pasindu Madhuwantha Portfolio" />
    <meta name="apple-mobile-web-app-title" content="Hasintha Portfolio" />
    <meta name="theme-color" content="#FDE047" />
    <meta name="format-detection" content="telephone=no" />
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/images/H Letter.png" />
    <link rel="apple-touch-icon" href="/images/H Letter.png" />
    
    <!-- Humans.txt -->
    <link rel="author" href="/humans.txt" />
    
    <!-- DNS Prefetch & Preconnect for Performance -->
    <link rel="dns-prefetch" href="https://fonts.googleapis.com" />
    <link rel="dns-prefetch" href="https://fonts.gstatic.com" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    
    <!-- Structured Data - JSON-LD for Person & ProfessionalService -->
    <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "Person",
          "@id": `${canonicalURL}/#person`,
          "name": "Hasintha Pasindu Madhuwantha",
          "givenName": "Hasintha Pasindu",
          "familyName": "Madhuwantha",
          "alternateName": ["Hasintha Pasindu", "Hasintha Madhuwantha"],
          "url": canonicalURL,
          "image": siteImage,
          "jobTitle": "Infrastructure & Automation Engineer",
          "worksFor": {
            "@type": "Organization",
            "name": "Freelance"
          },
          "knowsAbout": [
            "Infrastructure Automation",
            "CI/CD Pipelines",
            "DevOps",
            "Kubernetes",
            "Docker",
            "AWS",
            "Cloud Infrastructure",
            "System Monitoring",
            "Site Reliability Engineering",
            "GitOps",
            "Terraform",
            "Ansible"
          ],
          "sameAs": [
            "https://github.com/Hasintha01",
            "https://linkedin.com/in/hasintha-pasindu"
          ]
        },
        {
          "@type": "WebSite",
          "@id": `${canonicalURL}/#website`,
          "url": canonicalURL,
          "name": "Hasintha Pasindu Madhuwantha Portfolio",
          "description": pageDescription,
          "publisher": {
            "@id": `${canonicalURL}/#person`
          },
          "inLanguage": "en-US"
        },
        {
          "@type": "WebPage",
          "@id": `${canonicalURL}/#webpage`,
          "url": canonicalURL,
          "name": pageTitle,
          "isPartOf": {
            "@id": `${canonicalURL}/#website`
          },
          "about": {
            "@id": `${canonicalURL}/#person`
          },
          "description": pageDescription,
          "inLanguage": "en-US"
        },
        {
          "@type": "ProfilePage",
          "dateCreated": "2024-01-01T00:00:00+00:00",
          "dateModified": new Date().toISOString(),
          "mainEntity": {
            "@id": `${canonicalURL}/#person`
          }
        }
      ]
    })} />
    
    <!-- Plausible Analytics - Privacy-friendly, GDPR compliant -->
    <script defer data-domain="hasinthapasindu.me" src="https://plausible.io/js/script.js"></script>
    
    <!-- Web Vitals Monitoring -->
    <script is:inline src="/web-vitals.js" defer></script>
  </head>
  
  <body class="bg-white text-black">
    <!-- Skip to Content Link - Accessibility (WCAG 2.4.1) -->
    <a href="#main-content" class="skip-to-content">
      SKIP TO CONTENT →
    </a>

    <!-- Fixed Navigation - Client-side for smooth scroll -->
    <Navigation client:load links={navLinks} />

    <main id="main-content">
    <!-- Hero Section -->
    <Hero />

    <!-- About Me Section -->
    <About interests={interests} />

    <!-- Skills & Tools Section -->
    <Skills technologies={technologies} expertise={expertise} />

    <!-- Featured Projects Section -->
    <Projects projects={projects} />

    <!-- Homelab Showcase Section -->
    <Homelab services={homelabServices} />

    <!-- Blog Section -->
    <Blog articles={articles} />

    <!-- Philosophy Section -->
    <Philosophy principles={principles} />

    <!-- Contact Section -->
    <Contact contactLinks={contactLinks} />
    </main>

    <!-- Footer -->
    <Footer />
  </body>
</html>
